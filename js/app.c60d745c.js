(function(){"use strict";var e={7219:function(e,n,t){var o=t(9963),s=t(6252);function r(e,n,t,o,r,a){const i=(0,s.up)("Header"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),(0,s.Wm)(l,{cart:r.cart,iscartEmpty:a.iscartEmpty,sortBy:r.sortBy,ascending:r.ascending,lessons:a.sortLessons,onAddLessonToCart:a.addLessonToCart,onOnSortChange:a.onSortChange,onAscChange:a.ascChange,onRemoveLessonFromCart:a.removeLessonFromCart},null,8,["cart","iscartEmpty","sortBy","ascending","lessons","onAddLessonToCart","onOnSortChange","onAscChange","onRemoveLessonFromCart"])],64)}t(7658);const a={class:"text-center"};function i(e,n,t,o,r,i){return(0,s.wg)(),(0,s.iD)("h1",a,"Welcome to our Lessons shopping website")}var l={name:"Header",props:{}},c=t(3744);const u=(0,c.Z)(l,[["render",i]]);var d=u,m=t(3577);const p={class:"lesson-content"},h=(0,s._)("i",{class:"fas fa-pound-sign"},null,-1),g={class:"lesson-img-div"},y=["src","alt"];function b(e,n,t,o,r,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",p,[(0,s._)("h4",null,"Subject: "+(0,m.zw)(t.lesson.topic),1),(0,s._)("h4",null,"Loacation: "+(0,m.zw)(t.lesson.location),1),(0,s._)("h4",null,[(0,s.Uk)("Price: "),h,(0,s.Uk)(" "+(0,m.zw)(t.lesson.price),1)]),(0,s._)("h4",null,"Spaces: "+(0,m.zw)(t.lesson.space),1),a.isLessonFull(t.lesson)?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",onClick:n[0]||(n[0]=n=>e.$emit("addLessonToCart",t.lesson)),disabled:""},"Add to cart")):((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",onClick:n[1]||(n[1]=n=>e.$emit("addLessonToCart",t.lesson))},"Add to cart"))]),(0,s._)("div",g,[(0,s._)("img",{class:"lesson-img",src:t.lesson.image,alt:t.lesson.topic},null,8,y)])],64)}var v={name:"Lesson",props:{lesson:Object,cart:Array},methods:{isLessonFull(e){if(0===e.space)return!0}},emits:["addLessonToCart"]};const C=(0,c.Z)(v,[["render",b]]);var f=C,S={name:"App",components:{Header:d,Lesson:f},data(){return{lessons:[],sortBy:localStorage.getItem("sortBy")?JSON.parse(localStorage.getItem("sortBy")):"price",ascending:!localStorage.getItem("ascending")||JSON.parse(localStorage.getItem("ascending")),cart:localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]}},created(){JSON.parse(localStorage.getItem("lessons"))?this.lessons=JSON.parse(localStorage.getItem("lessons")):fetch("https://course-work-3-backend-production.up.railway.app/lessons").then((e=>e.json())).then((e=>{this.lessons=e,localStorage.setItem("lessons",JSON.stringify(this.lessons))})).catch((e=>console.log(e)))},methods:{addLessonToCart(e){if(console.log("addLessonToCart"),e.space>0){this.cart.push({id:e.id,topic:e.topic,location:e.location,space:1,price:e.price,image:e.image});let n=this.lessons.indexOf(e);this.lessons[n].space=this.lessons[n].space-1}localStorage.setItem("cart",JSON.stringify(this.cart)),localStorage.setItem("lessons",JSON.stringify(this.lessons))},ascChange(e){console.log("ascChange",e),this.ascending=e,localStorage.setItem("ascending",JSON.stringify(this.ascending))},onSortChange(e){console.log("onSortChange",e),this.sortBy=e,localStorage.setItem("sortBy",JSON.stringify(this.sortBy))},iscartEmpty(){if(0===this.cart.length)return!0},removeLessonFromCart(e){console.log("entered removeLessonFromCart");let n=this.cart.indexOf(e);console.log("cartIndex:",n),this.cart.splice(n,1),console.log(JSON.stringify(this.cart)),localStorage.setItem("cart",JSON.stringify(this.cart));for(let t=0;t<this.lessons.length;t++)this.lessons[t].id===e.id&&(this.lessons[t].space+=1,localStorage.setItem("lessons",JSON.stringify(this.lessons)))}},computed:{sortLessons(){switch(this.sortBy){case"subject":this.lessons.sort((function(e,n){return e.topic>n.topic?1:n.topic>e.topic?-1:0}));break;case"location":this.lessons.sort((function(e,n){return e.location>n.location?1:n.location>e.location?-1:0}));break;case"price":this.lessons.sort((function(e,n){return e.price>n.price?1:n.price>e.price?-1:0}));break;case"spaces":this.lessons.sort((function(e,n){return e.space>n.space?1:n.space>e.space?-1:0}));break;default:this.lessons.sort((function(e,n){return e.price>n.price?1:n.price>e.price?-1:0}))}return this.ascending||this.lessons.reverse(),this.lessons}}};const k=(0,c.Z)(S,[["render",r]]);var w=k,_=t(2201);function L(e,n,t,o,r,a){const i=(0,s.up)("Cart");return(0,s.wg)(),(0,s.j4)(i,{cart:t.cart,onRemoveLessonFromCart:a.removeLessonFromCart},null,8,["cart","onRemoveLessonFromCart"])}const N={class:"main-content-cart"},T=(0,s._)("h1",null,"Home",-1),O={class:"lessons"},$={class:"lesson-content"},A=(0,s._)("i",{class:"fas fa-pound-sign"},null,-1),D=["onClick"],B=["src","alt"],F=(0,s._)("p",null,"Name: ",-1),I=(0,s._)("br",null,null,-1),j=(0,s._)("p",null,"Phone number: ",-1),P=(0,s._)("button",{type:"submit"},"Checkout",-1);function Z(e,n,t,r,a,i){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",N,[(0,s._)("div",null,[(0,s.Wm)(l,{to:"/",class:"btn btn-primary btn-lg"},{default:(0,s.w5)((()=>[T])),_:1})]),(0,s._)("div",O,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.cart,(n=>((0,s.wg)(),(0,s.iD)("div",{key:n.id,class:"lesson border border-primary rounded"},[(0,s._)("div",$,[(0,s._)("h4",null,"Subject: "+(0,m.zw)(n.topic),1),(0,s._)("h4",null,"Loacation: "+(0,m.zw)(n.location),1),(0,s._)("h4",null,"space: "+(0,m.zw)(n.space),1),(0,s._)("h4",null,[(0,s.Uk)("Price: "),A,(0,s.Uk)(" "+(0,m.zw)(n.price),1)]),(0,s._)("button",{type:"button",onClick:t=>e.$emit("removeLessonFromCart",n)},"Remove",8,D)]),(0,s._)("div",null,[(0,s._)("img",{class:"lesson-img",src:n.image,alt:n.topic},null,8,B)])])))),128))])]),(0,s._)("div",null,[(0,s._)("form",{onSubmit:n[2]||(n[2]=(0,o.iM)(((...e)=>i.checkForm&&i.checkForm(...e)),["prevent"])),class:"checkout-form"},[(0,s._)("div",null,[F,(0,s.wy)((0,s._)("input",{type:"text",name:"name",id:"name",placeholder:"Enter your name","onUpdate:modelValue":n[0]||(n[0]=e=>a.name=e),required:""},null,512),[[o.nr,a.name]]),I,j,(0,s.wy)((0,s._)("input",{type:"text",name:"phoneNumber",id:"number",placeholder:"Enter your phone number","onUpdate:modelValue":n[1]||(n[1]=e=>a.phoneNumber=e),required:""},null,512),[[o.nr,a.phoneNumber]])]),P],32)])],64)}var z={name:"Cart",data(){return{name:"",phoneNumber:"",submitted:!1,errors:[],submitButton:!1}},props:{cart:Array},emits:["removeLessonFromcart"],methods:{editName(e){this.name=e},editPhoneNumber(e){this.phoneNumber=e},addPersonalInfo(e){this.submitted=!this.submitted},checkForm(e){this.name&&this.phoneNumber&&/^[A-Za-z]+$/.test(this.name)&&/^\d+$/.test(this.phoneNumber)?alert("submitted"):this.name&&this.phoneNumber&&!/^[A-Za-z]+$/.test(this.name)&&/^\d+$/.test(this.phoneNumber)?alert("invalid name"):this.name&&this.phoneNumber&&/^[A-Za-z]+$/.test(this.name)&&!/^\d+$/.test(this.phoneNumber)?alert("invalid phone number"):this.name&&this.phoneNumber&&!/^[A-Za-z]+$/.test(this.name)&&!/^\d+$/.test(this.phoneNumber)&&alert("invalid name & phone number")}},watch:{phoneNumber(e,n){""===e?this.editPhoneNumber(""):/^\d+$/.test(e)?this.editPhoneNumber(e):this.editPhoneNumber(n)},name(e,n){/^[A-Za-z]+$/.test(e)?this.editName(e):this.editName(n)}}};const E=(0,c.Z)(z,[["render",Z]]);var J=E,H={name:"CartView",components:{Cart:J},props:{cart:Array},emits:["removeLessonFromCart"],methods:{removeLessonFromCart(e){this.$emit("removeLessonFromCart",e)}}};const x=(0,c.Z)(H,[["render",L]]);var W=x;const U={class:"main-content-home"};function Y(e,n,t,o,r,a){const i=(0,s.up)("SideBar"),l=(0,s.up)("Lessons"),c=(0,s.up)("GoToCheckout");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",U,[(0,s.Wm)(i,{sortBy:t.sortBy,ascending:t.ascending,onOnSortChange:a.onSortChange,onAscChange:a.ascChange},null,8,["sortBy","ascending","onOnSortChange","onAscChange"]),(0,s.Wm)(l,{onAddLessonToCart:a.addLessonToCart,lessons:t.lessons},null,8,["onAddLessonToCart","lessons"])]),(0,s.Wm)(c,{iscartEmpty:t.iscartEmpty,cart:t.cart},null,8,["iscartEmpty","cart"])],64)}const R={class:"sidebar"},G=(0,s._)("h2",null,"Sort by:",-1),M=(0,s._)("label",{for:"Topic"},"Topic",-1),V=(0,s._)("br",null,null,-1),q=(0,s._)("label",{for:"locatoin"},"Locatoin",-1),K=(0,s._)("br",null,null,-1),Q=(0,s._)("label",{for:"price"},"Price",-1),X=(0,s._)("br",null,null,-1),ee=(0,s._)("label",{for:"availability"},"Availability",-1),ne=(0,s._)("br",null,null,-1),te=(0,s._)("br",null,null,-1),oe=["value"],se=["value"],re=(0,s._)("label",{for:"ascending"},"Ascedning",-1),ae=(0,s._)("br",null,null,-1),ie=["value"],le=["value"],ce=(0,s._)("label",{for:"descending"},"Descending",-1),ue=(0,s._)("br",null,null,-1);function de(e,n,t,o,r,a){return(0,s.wg)(),(0,s.iD)("div",R,[G,(0,s._)("div",null,[t.sortBy.includes("Topic")?((0,s.wg)(),(0,s.iD)("input",{key:0,type:"radio",id:"Topic",name:"sortby",value:"Topic",onChange:n[0]||(n[0]=n=>e.$emit("onSortChange","Topic")),checked:""},null,32)):((0,s.wg)(),(0,s.iD)("input",{key:1,type:"radio",id:"Topic",name:"sortby",value:"Topic",onChange:n[1]||(n[1]=n=>e.$emit("onSortChange","Topic"))},null,32)),M,V,t.sortBy.includes("location")?((0,s.wg)(),(0,s.iD)("input",{key:2,type:"radio",id:"location",name:"sortby",value:"location",onChange:n[2]||(n[2]=n=>e.$emit("onSortChange","location")),checked:""},null,32)):((0,s.wg)(),(0,s.iD)("input",{key:3,type:"radio",id:"location",name:"sortby",value:"location",onChange:n[3]||(n[3]=n=>e.$emit("onSortChange","location"))},null,32)),q,K,t.sortBy.includes("price")?((0,s.wg)(),(0,s.iD)("input",{key:4,type:"radio",id:"price",name:"sortby",value:"price",onChange:n[4]||(n[4]=n=>e.$emit("onSortChange","price")),checked:""},null,32)):((0,s.wg)(),(0,s.iD)("input",{key:5,type:"radio",id:"price",name:"sortby",value:"price",onChange:n[5]||(n[5]=n=>e.$emit("onSortChange","price"))},null,32)),Q,X,t.sortBy.includes("space")?((0,s.wg)(),(0,s.iD)("input",{key:6,type:"radio",id:"availability",name:"sortby",value:"space",onChange:n[6]||(n[6]=n=>e.$emit("onSortChange","space")),checked:""},null,32)):((0,s.wg)(),(0,s.iD)("input",{key:7,type:"radio",id:"availability",name:"sortby",value:"space",onChange:n[7]||(n[7]=n=>e.$emit("onSortChange","space"))},null,32)),ee,ne,te,t.ascending?((0,s.wg)(),(0,s.iD)("input",{key:8,type:"radio",id:"ascending",name:"ascdes",value:t.ascending,onChange:n[8]||(n[8]=n=>e.$emit("ascChange",!0)),checked:""},null,40,oe)):((0,s.wg)(),(0,s.iD)("input",{key:9,type:"radio",id:"ascending",name:"ascdes",value:t.ascending,onChange:n[9]||(n[9]=n=>e.$emit("ascChange",!0))},null,40,se)),re,ae,t.ascending?((0,s.wg)(),(0,s.iD)("input",{key:11,type:"radio",id:"descending",name:"ascdes",value:t.ascending,onChange:n[11]||(n[11]=n=>e.$emit("ascChange",!1))},null,40,le)):((0,s.wg)(),(0,s.iD)("input",{key:10,type:"radio",id:"descending",name:"ascdes",value:t.ascending,onChange:n[10]||(n[10]=n=>e.$emit("ascChange",!1)),checked:""},null,40,ie)),ce,ue])])}var me={name:"SideBar",props:{sortBy:String,ascending:Boolean},emists:["onSortChange","ascChange"]};const pe=(0,c.Z)(me,[["render",de]]);var he=pe;const ge={class:"lessons"};function ye(e,n,t,o,r,a){const i=(0,s.up)("Lesson");return(0,s.wg)(),(0,s.iD)("div",ge,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.lessons,(n=>((0,s.wg)(),(0,s.iD)("div",{key:n.id,class:"lesson border border-primary rounded"},[(0,s.Wm)(i,{onAddLessonToCart:t=>e.$emit("addLessonToCart",n),lesson:n},null,8,["onAddLessonToCart","lesson"])])))),128))])}var be={name:"Lessons",props:{lessons:Array},components:{Lesson:f},emits:["addLessonToCart"]};const ve=(0,c.Z)(be,[["render",ye]]);var Ce=ve;function fe(e,n,t,o,r,a){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[t.iscartEmpty()?((0,s.wg)(),(0,s.j4)(i,{key:1,to:"/",class:"btn btn-secondary btn-lg"},{default:(0,s.w5)((()=>[(0,s.Uk)("move to checkout")])),_:1})):((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/cart",class:"btn btn-primary btn-lg",cart:t.cart},{default:(0,s.w5)((()=>[(0,s.Uk)("move to checkout")])),_:1},8,["cart"]))])}var Se={name:"GoToCheckout",props:{iscartEmpty:Function,cart:Array}};const ke=(0,c.Z)(Se,[["render",fe],["__scopeId","data-v-559dd1c9"]]);var we=ke,_e={name:"Home",components:{SideBar:he,Lessons:Ce,GoToCheckout:we},props:{sortBy:String,ascending:Boolean,lessons:Array,cart:Array,iscartEmpty:Function},emits:["onSortChange","ascChange","addLessonToCart"],methods:{onSortChange(e){console.log(e),this.$emit("onSortChange",e)},ascChange(e){this.$emit("ascChange",e)},addLessonToCart(e){this.$emit("addLessonToCart",e)}}};const Le=(0,c.Z)(_e,[["render",Y]]);var Ne=Le;const Te=[{path:"/cart",name:"Cart",component:W},{path:"/",name:"Home",component:Ne}],Oe=(0,_.p7)({history:(0,_.PO)("/CW3CST3145/"),routes:Te});var $e=Oe;t(3734);(0,o.ri)(w).use($e).mount("#app")}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var r=n[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,o,s,r){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],r=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var c=s();void 0!==c&&(n=c)}}return n}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,s,r]}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var s,r,a=o[0],i=o[1],l=o[2],c=0;if(a.some((function(n){return 0!==e[n]}))){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(l)var u=l(t)}for(n&&n(o);c<a.length;c++)r=a[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},o=self["webpackChunkcourse_work_3"]=self["webpackChunkcourse_work_3"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(7219)}));o=t.O(o)})();
//# sourceMappingURL=app.c60d745c.js.map